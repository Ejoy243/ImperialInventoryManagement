@page "{Id}"
@model ImperialInventoryManagement.Pages.CreateOrderModel
@{
}

<div class="container">
    <form  method="post" >

        <label for="item-select">
            Select Item </br>
            <select id="item-select" 
            class="item-select form-control" 
            asp-for="SelectListItemId" 
            asp-items="Model.Items" 
            onchange="this.form.submit()">
            <option value="">Select Item</option>
            </select>
        </label>
        @if (Model.SelectListItemId > 0)
        {
            <div class="form-group">
                Amount to order:
                <input asp-for="Quantity" 
                type="number"
                       min="0" max="@(Model.inventoryItem.ItemAmount - Model.inventoryItem.ItemReserve)" />
            </div>

            <div class="form-group">
                <label asp-for="Order.Purpose" class="control-label"></label>
                <br />
            <input asp-for="Order.Purpose" />
            <span asp-validation-for="Order.Purpose"></span>
            </div>

            <div class="form-group">
                <label asp-for="Order.DueDate" class="control-label"></label>
                <input asp-for="Order.DueDate" class="form-control" type="date" min="@DateTime.Now.ToString("yyyy-MM-dd")" data-val-required="Date is required">
            </div>
            <button type="submit" asp-page-handler="Submit">Submit</button>

        
        }
    </form>

</div>
